# Kubernetes Installation Scripts

The scripts in this directory are used to install Kubernetes and its dependencies on a prepared node and then assign it a role in the cluster.

This process is broken into two phases: a common setup phase that is run on every node, and a role-specific phase where the node is either initialized as a control plane or joined as a worker.

---

## Setup Workflow

### **Phase 1: Common Setup (Run on ALL nodes)**

These scripts install all the necessary packages and tools required for any machine to act as a Kubernetes node.

* **`setup/01_install_deps.sh`**: Installs the container runtime (`containerd`) and configures the required kernel modules and system settings for container networking.
* **`setup/02_install_kube.sh`**: Installs the core Kubernetes command-line tools: `kubeadm`, `kubelet`, and `kubectl`.

### **Phase 2: Role Assignment (Run ONE of the following)**

After the common setup is complete, run one of the following scripts to give the node its final role.

* **To create the cluster:**
    * **Script:** `control_plane/init.sh`
    * **Purpose:** Runs `kubeadm init` to bootstrap the cluster, sets up `kubectl` access, and installs the network plugin (CNI).
    * **Usage:** Run this script **only on the first control plane node**.

* **To join an existing cluster:**
    * **Script:** `worker/join.sh`
    * **Purpose:** Runs `kubeadm join` using the join command generated by the `init.sh` script.
    * **Usage:** Run this script on any subsequent node you wish to add to the cluster, either as a worker or as an additional control plane.
